import{e as s,o as f,s as g,l as o,c as B,a as _,r as E,d as R,b as V,V as n,I as h,U as P,f as z,g as A,v as H,R as T,h as D,i as W,T as L,j as O,k as N,m as q,n as j,p as U,q as X,P as G,t as K,u as J,w as u,x as p,y as Q}from"./index.96409595.js";const Y=(e,t,a)=>s`<div class="${f(e.classes.root)}" style="${g(e.styles.main)}" @focusin="${e._onfocusin}" @focusout="${e._onfocusout}">${e.growing?Z(e):void 0}<textarea id="${o(e._id)}-inner" class="ui5-textarea-inner" placeholder="${o(e.placeholder)}" ?disabled="${e.disabled}" ?readonly="${e.readonly}" aria-label="${o(e.ariaLabelText)}" aria-describedby="${o(e.ariaDescribedBy)}" aria-invalid="${o(e.ariaInvalid)}" aria-required="${o(e.required)}" maxlength="${o(e._exceededTextProps.calcedMaxLength)}" .value="${o(e.value)}" @input="${e._oninput}" @change="${e._onchange}" @keyup="${e._onkeyup}" @keydown="${e._onkeydown}" data-sap-focus-ref part="textarea"></textarea>${e.showExceededText?te(e):void 0}${e.hasValueState?ae(e):void 0}<slot name="formSupport"></slot></div> `,Z=(e,t,a)=>s`<div id="${o(e._id)}-mirror" style="${g(e.styles.mirror)}" class="ui5-textarea-mirror" aria-hidden="true">${B(e._mirrorText,(r,i)=>r._id||i,(r,i)=>ee(r))}</div>`,ee=(e,t,a,r,i)=>s`${o(e.text)}<br />`,te=(e,t,a)=>s`<span class="ui5-textarea-exceeded-text">${o(e._exceededTextProps.exceededText)}</span>`,ae=(e,t,a)=>s`<span id="${o(e._id)}-valueStateDesc" class="ui5-hidden-text">${o(e.ariaValueStateHiddenText)}</span>`,re=(e,t,a)=>s`${e.displayValueStateMessagePopover?oe(e,t,a):void 0}`,oe=(e,t,a)=>a?s`<${_("ui5-popover",t,a)} skip-registry-update prevent-focus-restore hide-arrow _disable-initial-focus class="ui5-valuestatemessage-popover" style="${g(e.styles.valueStateMsgPopover)}" placement-type="Bottom" horizontal-align="${o(e._valueStatePopoverHorizontalAlign)}"><div slot="header" class="ui5-valuestatemessage-root ${f(e.classes.valueStateMsg)}"><${_("ui5-icon",t,a)} class="ui5-input-value-state-message-icon" name="${o(e._valueStateMessageIcon)}"></${_("ui5-icon",t,a)}>${e.hasCustomValueState?$(e):F(e)}</div></${_("ui5-popover",t,a)}>`:s`<ui5-popover skip-registry-update prevent-focus-restore hide-arrow _disable-initial-focus class="ui5-valuestatemessage-popover" style="${g(e.styles.valueStateMsgPopover)}" placement-type="Bottom" horizontal-align="${o(e._valueStatePopoverHorizontalAlign)}"><div slot="header" class="ui5-valuestatemessage-root ${f(e.classes.valueStateMsg)}"><ui5-icon class="ui5-input-value-state-message-icon" name="${o(e._valueStateMessageIcon)}"></ui5-icon>${e.hasCustomValueState?$(e):F(e)}</div></ui5-popover>`,$=(e,t,a)=>s`${B(e.valueStateMessageText,(r,i)=>r._id||i,(r,i)=>ie(r))}`,ie=(e,t,a,r,i)=>s`${o(e)}`,F=(e,t,a)=>s`${o(e.valueStateText)}`;E("@ui5/webcomponents-theming","sap_fiori_3",()=>R);E("@ui5/webcomponents","sap_fiori_3",()=>V);const ne={packageName:"@ui5/webcomponents",fileName:"themes/TextArea.css",content:'.ui5-hidden-text{position:absolute;clip:rect(1px,1px,1px,1px);user-select:none;left:-1000px;top:-1000px;pointer-events:none;font-size:0}:host(:not([hidden])){display:inline-block}:host{width:100%;color:var(--sapField_TextColor);font-size:var(--sapFontSize);font-family:"72override",var(--sapFontFamily);font-style:normal;border-color:var(--sapField_BorderColor);border-radius:var(--sapField_BorderCornerRadius);box-sizing:border-box;line-height:1.4;letter-spacing:normal;word-spacing:normal;margin:var(--_ui5_textarea_margin)}:host([disabled]){opacity:var(--_ui5_input_disabled_opacity);cursor:default;pointer-events:none;border-color:var(--sapField_ReadOnly_BorderColor);-webkit-text-fill-color:var(--sapContent_DisabledTextColor);color:var(--sapContent_DisabledTextColor)}:host([disabled]) .ui5-textarea-inner{background:var(--sapField_BackgroundStyle);background-color:var(--_ui5_textarea_disabled_background_color)}:host([focused]) .ui5-textarea-inner{outline:var(--_ui5_textarea_focus_outline);outline-offset:var(--_ui5_textarea_focus_outline_offset)}:host([focused]) .ui5-textarea-inner{background-color:var(--sapField_Focus_Background);background-image:none;box-shadow:var(--_ui5_textarea_focus_box_shadow)}:host(:not([value-state]):not([readonly]):not([focused]):hover) .ui5-textarea-inner{box-shadow:var(--_ui5_textarea_hover_box_shadow);background:var(--sapField_Hover_BackgroundStyle);background-color:var(--sapField_Hover_Background)}:host([value-state]:not([value-state=None])[focused]) .ui5-textarea-inner{outline:var(--_ui5_textarea_value_state_focus_outline);outline-offset:var(--_ui5_textarea_value_state_focus_outline_offset)}.ui5-textarea-root{height:100%;min-height:var(--_ui5_input_height);display:inline-flex;vertical-align:top;outline:none;box-sizing:border-box;border-radius:inherit;border-color:inherit}.ui5-textarea-inner{width:100%;height:100%;min-width:6rem;margin:0;padding:var(--_ui5_textarea_padding);box-sizing:border-box;color:inherit;font-size:inherit;font-family:inherit;font-style:inherit;-webkit-appearance:none;-moz-appearance:textfield;overflow:auto;resize:none;border-color:inherit;border-radius:inherit;border-width:var(--_ui5_textarea_inner_border_width);border-style:var(--sapField_BorderStyle);line-height:inherit;letter-spacing:inherit;word-spacing:inherit;background:var(--sapField_BackgroundStyle);background-color:var(--sapField_Background)}:host([growing]) .ui5-textarea-root{position:relative}:host([growing]) .ui5-textarea-inner{position:absolute;top:0;left:0}.ui5-textarea-mirror{line-height:1.4;visibility:hidden;width:100%;word-break:break-all;padding:var(--_ui5_textarea_padding);font-size:var(--sapFontSize);font-family:"72override",var(--sapFontFamily);white-space:pre-wrap;box-sizing:border-box}:host([readonly]){border-color:var(--sapField_ReadOnly_BorderColor)}:host([readonly][focused]) .ui5-textarea-root .ui5-textarea-inner{background-image:none}:host([readonly]) .ui5-textarea-root .ui5-textarea-inner{background:var(--sapField_ReadOnly_BackgroundStyle);background-color:var(--sapField_ReadOnly_Background)}:host([show-exceeded-text]) .ui5-textarea-root{flex-direction:column}.ui5-textarea-inner::-webkit-input-placeholder{font-weight:400;font-style:var(--_ui5_textarea_placeholder_font_style);color:var(--sapField_PlaceholderTextColor)}.ui5-textarea-inner::-moz-placeholder{font-weight:400;font-style:var(--_ui5_textarea_placeholder_font_style);color:var(--sapField_PlaceholderTextColor)}.ui5-textarea-inner:-moz-placeholder{font-weight:400;font-style:var(--_ui5_textarea_placeholder_font_style);color:var(--sapField_PlaceholderTextColor)}:host([value-state=Error]) .ui5-textarea-inner::-webkit-input-placeholder{font-weight:var(--_ui5_textarea_value_state_error_warning_placeholder_font_weight);font-style:var(--_ui5_textarea_error_placeholder_font_style);color:var(--_ui5_textarea_error_placeholder_color)}:host([value-state=Error]) .ui5-textarea-inner::-moz-placeholder{font-weight:var(--_ui5_textarea_value_state_error_warning_placeholder_font_weight);font-style:var(--_ui5_textarea_error_placeholder_font_style);color:var(--_ui5_textarea_error_placeholder_color)}:host([value-state=Error]) .ui5-textarea-inner:-moz-placeholder{font-weight:var(--_ui5_textarea_value_state_error_warning_placeholder_font_weight);font-style:var(--_ui5_textarea_error_placeholder_font_style);color:var(--_ui5_textarea_error_placeholder_color)}:host([value-state=Warning]) .ui5-textarea-inner::-webkit-input-placeholder{font-weight:var(--_ui5_textarea_value_state_error_warning_placeholder_font_weight)}:host([value-state=Warning]) .ui5-textarea-inner::-moz-placeholder{font-weight:var(--_ui5_textarea_value_state_error_warning_placeholder_font_weight)}:host(:not([value-state]):not([readonly]):hover){border-color:var(--sapField_Hover_BorderColor)}:host(:not([value-state]):not([readonly]):hover) .ui5-textarea-inner{background-color:var(--sapField_Hover_Background)}:host([value-state]:not([value-state=None])) .ui5-textarea-inner{border-width:var(--_ui5_textarea_state_border_width)}:host([value-state=Error]) .ui5-textarea-inner,:host([value-state=Warning]) .ui5-textarea-inner{font-style:var(--_ui5_input_error_warning_font_style)}:host([value-state=Warning]) .ui5-textarea-inner{font-weight:var(--_ui5_input_warning_font_weight)}:host([value-state=Warning]:not([readonly])) .ui5-textarea-inner{background:var(--sapField_WarningBackgroundStyle)}:host([value-state=Warning]:not([readonly]):not([focused]):hover) .ui5-textarea-inner{box-shadow:var(--sapContent_Critical_Shadow);background-color:var(--sapField_Hover_Background)}:host([value-state=Warning][focused]:not([readonly])) .ui5-textarea-inner{background-image:none;box-shadow:var(--_ui5_textarea_value_state_warning_focus_box_shadow);background-color:var(--sapField_Focus_Background)}:host([value-state=Error]:not([readonly])) .ui5-textarea-inner{font-weight:var(--_ui5_input_error_font_weight);background:var(--sapField_InvalidBackgroundStyle)}:host([value-state=Error]:not([readonly]):not([focused]):hover) .ui5-textarea-inner{box-shadow:var(--sapContent_Negative_Shadow);background-color:var(--_ui5_textarea_error_hover_background_color)}:host([value-state=Error][focused]:not([readonly])) .ui5-textarea-inner{background-image:none;box-shadow:var(--_ui5_textarea_value_state_error_focus_box_shadow);background-color:var(--_ui5_textarea_error_focused_background_color)}:host([value-state=Information]:not([readonly])) .ui5-textarea-inner{background:var(--sapField_InformationBackgroundStyle)}:host([value-state=Information]:not([readonly]):not([focused]):hover) .ui5-textarea-inner{box-shadow:var(--sapContent_Informative_Shadow);background-color:var(--sapField_Hover_Background)}:host([value-state=Information][focused]:not([readonly])) .ui5-textarea-inner{background-image:none;box-shadow:var(--_ui5_textarea_focus_box_shadow);background-color:var(--sapField_Focus_Background)}:host([value-state=Success]:not([readonly])) .ui5-textarea-inner{background:var(--sapField_SuccessBackgroundStyle)}:host([value-state=Success]:not([readonly]):not([focused]):hover) .ui5-textarea-inner{box-shadow:var(--sapContent_Positive_Shadow);background-color:var(--sapField_Hover_Background)}:host([value-state=Success][focused]:not([readonly])) .ui5-textarea-inner{background-image:none;box-shadow:var(--_ui5_textarea_value_state_success_focus_box_shadow);background-color:var(--sapField_Focus_Background)}:host([value-state=Error]:not([readonly])){border-color:var(--sapField_InvalidColor)}:host([value-state=Error]:not([readonly])) .ui5-textarea-inner{background-color:var(--sapField_InvalidBackground)}:host([value-state=Error]:not([readonly]):not([disabled])) .ui5-textarea-inner,:host([value-state=Information]:not([readonly]):not([disabled])) .ui5-textarea-inner,:host([value-state=Warning]:not([readonly]):not([disabled])) .ui5-textarea-inner{border-style:var(--_ui5_input_error_warning_border_style)}:host([value-state=Warning]:not([readonly])){border-color:var(--sapField_WarningColor)}:host([value-state=Warning]:not([readonly])) .ui5-textarea-inner{background-color:var(--sapField_WarningBackground)}:host([value-state=Success]:not([readonly])){border-color:var(--sapField_SuccessColor)}:host([value-state=Success]:not([readonly])) .ui5-textarea-inner{background-color:var(--sapField_SuccessBackground);border-width:var(--_ui5_textarea_success_border_width)}:host([value-state=Information]:not([readonly])){border-color:var(--sapField_InformationColor)}:host([value-state=Information]:not([readonly])) .ui5-textarea-inner{background-color:var(--sapField_InformationBackground);border-width:var(--_ui5_textarea_information_border_width)}.ui5-textarea-exceeded-text{overflow:hidden;align-self:flex-end;padding:.125rem .125rem .5rem;color:var(--sapContent_LabelColor);font-family:"72override",var(--sapFontFamily);font-size:var(--sapFontSmallSize)}:host :not(.ui5-content-native-scrollbars) ::-webkit-scrollbar{background:var(--sapField_BackgroundStyle);background-color:var(--sapScrollBar_TrackColor);border-top-right-radius:var(--sapField_BorderCornerRadius);border-bottom-right-radius:var(--sapField_BorderCornerRadius)}:host([readonly]) :not(.ui5-content-native-scrollbars) ::-webkit-scrollbar{background:var(--sapField_ReadOnly_BackgroundStyle);background-color:var(--sapScrollBar_TrackColor)}:host([value-state=Error]) :not(.ui5-content-native-scrollbars) ::-webkit-scrollbar{background:var(--sapField_InvalidBackgroundStyle);background-color:var(--sapScrollBar_TrackColor)}:host([value-state=Warning]) :not(.ui5-content-native-scrollbars) ::-webkit-scrollbar{background:var(--sapField_WarningBackgroundStyle);background-color:var(--sapScrollBar_TrackColor)}:host([value-state=Information]) :not(.ui5-content-native-scrollbars) ::-webkit-scrollbar{background:var(--sapField_InformationBackgroundStyle);background-color:var(--sapScrollBar_TrackColor)}:host([value-state=Success]) :not(.ui5-content-native-scrollbars) ::-webkit-scrollbar{background:var(--sapField_SuccessBackgroundStyle);background-color:var(--sapScrollBar_TrackColor)}:host([focused]) :not(.ui5-content-native-scrollbars) ::-webkit-scrollbar{background-image:none}'},se={tag:"ui5-textarea",languageAware:!0,managedSlots:!0,properties:{value:{type:String},disabled:{type:Boolean},readonly:{type:Boolean},required:{type:Boolean},placeholder:{type:String},valueState:{type:n,defaultValue:n.None},rows:{type:h,defaultValue:0},maxlength:{type:h,defaultValue:null},showExceededText:{type:Boolean},growing:{type:Boolean},growingMaxLines:{type:h,defaultValue:0},name:{type:String},accessibleName:{type:String},accessibleNameRef:{type:String},focused:{type:Boolean},exceeding:{type:Boolean},_mirrorText:{type:Object,multiple:!0,defaultValue:""},_maxHeight:{type:String,noAttribute:!0},_width:{type:h}},slots:{valueStateMessage:{type:HTMLElement},formSupport:{type:HTMLElement}},events:{change:{},input:{}}};class l extends P{static get metadata(){return se}static get styles(){return[z,ne]}static get render(){return A}static get template(){return Y}static get staticAreaTemplate(){return re}static get staticAreaStyles(){return H}constructor(){super(),this._firstRendering=!0,this._openValueStateMsgPopover=!1,this._fnOnResize=this._onResize.bind(this)}onEnterDOM(){T.register(this,this._fnOnResize)}onExitDOM(){T.deregister(this,this._fnOnResize)}onBeforeRendering(){this._exceededTextProps=this._calcExceededText(),this._mirrorText=this._tokenizeText(this.value),this.exceeding=this._exceededTextProps.leftCharactersCount<0,this.growingMaxLines&&(this._maxHeight=`${this.growingMaxLines*1.4*14+9}px`);const t=D("FormSupport");t?t.syncNativeHiddenInput(this):this.name&&console.warn('In order for the "name" property to have effect, you should also: import "@ui5/webcomponents/dist/features/InputElementsFormSupport.js";')}onAfterRendering(){this.toggleValueStateMessage(this.openValueStateMsgPopover),this._firstRendering=!1}getInputDomRef(){return this.getDomRef().querySelector("textarea")}_onkeydown(t){if(this._keyDown=!0,W(t)){const a=this.getInputDomRef();this.value=this.previousValue,a.value=this.value,this.fireEvent("input")}}_onkeyup(){this._keyDown=!1}_onfocusin(){this.focused=!0,this._openValueStateMsgPopover=!0,this.previousValue=this.getInputDomRef().value}_onfocusout(t){const a=t.relatedTarget&&t.relatedTarget.shadowRoot&&t.relatedTarget.shadowRoot.querySelector(".ui5-valuestatemessage-root");this.focused=!1,a||(this._openValueStateMsgPopover=!1)}_onchange(){this.fireEvent("change",{})}_oninput(t){const a=this.getInputDomRef();t.target===a&&t.stopImmediatePropagation(),this.value=a.value,this.fireEvent("input",{}),this.fireEvent("value-changed")}_onResize(){this.displayValueStateMessagePopover&&(this._width=this.offsetWidth)}toggleValueStateMessage(t){t?this.openPopover():this.closePopover()}async openPopover(){this.popover=await this._getPopover(),this.popover&&this.popover.showAt(this.shadowRoot.querySelector(".ui5-textarea-inner"))}async closePopover(){this.popover=await this._getPopover(),this.popover&&this.popover.close()}async _getPopover(){return(await this.getStaticAreaItemDomRef()).querySelector("[ui5-popover]")}_tokenizeText(t){const a=t.replace(/&/gm,"&amp;").replace(/"/gm,"&quot;").replace(/'/gm,"&apos;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").split(`
`);return a.length<this.rows?this._mapTokenizedTextToObject([...a,...Array(this.rows-a.length).fill("")]):this._mapTokenizedTextToObject(a)}_mapTokenizedTextToObject(t){return t.map((a,r)=>({text:a,last:r===t.length-1}))}_calcExceededText(){let t,a,r;if(this.showExceededText){const i=this.maxlength;i!==null&&(r=i-this.value.length,r>=0?a=l.i18nBundle.getText(L,r):a=l.i18nBundle.getText(O,Math.abs(r)))}else t=this.maxlength;return{exceededText:a,leftCharactersCount:r,calcedMaxLength:t}}get classes(){return{root:{"ui5-textarea-root":!0,"ui5-content-native-scrollbars":N()},valueStateMsg:{"ui5-valuestatemessage--error":this.valueState===n.Error,"ui5-valuestatemessage--warning":this.valueState===n.Warning,"ui5-valuestatemessage--information":this.valueState===n.Information}}}get styles(){const a=this.rows*22.4+(this.showExceededText?32:0);return{mirror:{"max-height":this._maxHeight},main:{width:"100%",height:this.rows&&!this.growing?`${a}px`:"100%"},focusDiv:{height:this.showExceededText?"calc(100% - 26px)":"100%","max-height":this._maxHeight},valueStateMsgPopover:{"max-width":`${this._width}px`}}}get tabIndex(){return this.disabled?void 0:"0"}get ariaLabelText(){const t=q(this);return this.showExceededText?t?`${t} ${this._exceededTextProps.exceededText}`:this._exceededTextProps.exceededText:t}get ariaDescribedBy(){return this.hasValueState?`${this._id}-valueStateDesc`:void 0}get ariaValueStateHiddenText(){if(!!this.hasValueState)return this.hasCustomValueState?this.valueStateMessageText.map(t=>t.textContent).join(" "):this.valueStateText}get ariaInvalid(){return this.valueState==="Error"?"true":void 0}get openValueStateMsgPopover(){return!this._firstRendering&&this._openValueStateMsgPopover&&this.displayValueStateMessagePopover}get displayValueStateMessagePopover(){return!this.readonly&&(this.hasCustomValueState||this.hasValueState)}get hasCustomValueState(){return!!this.valueStateMessage.length&&this.hasValueState}get hasValueState(){return this.valueState===n.Error||this.valueState===n.Warning||this.valueState===n.Information}get valueStateMessageText(){return this.valueStateMessage.map(t=>t.cloneNode(!0))}get valueStateText(){return this.valueState!==n.Error?this.valueStateTextMappings()[n.Warning]:this.valueStateTextMappings()[this.valueState]}get _valueStatePopoverHorizontalAlign(){return this.effectiveDir!=="rtl"?"Left":"Right"}get _valueStateMessageIcon(){const t={Error:"error",Warning:"alert",Success:"sys-enter-2",Information:"information"};return this.valueState!==n.None?t[this.valueState]:""}valueStateTextMappings(){return{Information:l.i18nBundle.getText(j),Error:l.i18nBundle.getText(U),Warning:l.i18nBundle.getText(X)}}static get dependencies(){return[G,K]}static async onDefine(){l.i18nBundle=await J("@ui5/webcomponents")}}l.define();const le=Q('<ui5-dialog header-text="Edit Todo"><div class="dialog-content"><div><ui5-label>Task:</ui5-label><ui5-textarea class="title-textarea" show-exceeded-text maxlength="24"></ui5-textarea></div><div><ui5-label>Due:</ui5-label><br><ui5-date-picker style="width: 100%;" format-pattern="dd/MM/yyyy"></ui5-date-picker></div></div><div slot="footer" class="todo-edit__footer"><ui5-button class="todo-edit__footer-btn" design="Emphasized">Save</ui5-button><ui5-button class="todo-edit__footer-btn" design="Transparent">Cancel</ui5-button></div></ui5-dialog>'),de=e=>{let t,a;return(()=>{const r=document.importNode(le,!0),i=r.firstChild,x=i.firstChild,b=x.firstChild,d=b.nextSibling,C=x.nextSibling,m=C.firstChild,M=m.nextSibling,c=M.nextSibling,I=i.nextSibling,v=I.firstChild,y=v.nextSibling,S=e.ref;typeof S=="function"?S(r):e.ref=r,r._$owner=u(),b._$owner=u();const w=t;typeof w=="function"?w(d):t=d,d._$owner=u(),m._$owner=u();const k=a;return typeof k=="function"?k(c):a=c,c._$owner=u(),v.addEventListener("click",()=>{e.onSave({id:e.id,title:t.value,due:a.value})}),v._$owner=u(),y.addEventListener("click",e.onCancel),y._$owner=u(),p(()=>r.dataKey=e.id),p(()=>d.value=e.title),p(()=>c.value=e.due),r})()};export{de as default};
